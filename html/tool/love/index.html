            tree.snapshot("p1", 240, 0, 610, 680);
            while (tree.move("p1", 500, 0)) {
                foot.draw();
                $await(Jscex.Async.sleep(10));
            }
            foot.draw();
            
            tree.snapshot("p2", 500, 0, 610, 680);
            // 会有闪烁不得以这样做, (＞﹏＜)

            var _img_url = tree.toDataURL('image/png')
            canvas.parent().css("opacity", "0");
            canvas.parent().css("background", "url(" + _img_url + ")");
           
            canvas.css("background", "#ffe");
            //
            
            canvas.css("background", "none");
            canvas.parent().css("opacity", "1");
            $await(Jscex.Async.sleep(300));
        }));

        var jumpAnimate = eval(Jscex.compile("async", function () {
            var ctx = tree.ctx;
            while (true) {
                tree.ctx.clearRect(0, 0, width, height);
                tree.jump();
                foot.draw();
                $await(Jscex.Async.sleep(25));
            }
        }));

        var textAnimate = eval(Jscex.compile("async", function () {
            var together = new Date();
            together.setFullYear(2011, 7,15);            //时间年月日
            together.setHours(10);                      //小时    
            together.setMinutes(0);                    //分钟
            together.setSeconds(0);                 //秒前一位
            together.setMilliseconds(0);                //秒第二位

            $("#code").show().typewriter();
            $("#clock-box").fadeIn(500);
            while (true) {
                timeElapse(together);
                $await(Jscex.Async.sleep(1000));
            }
        }));

        var runAsync = eval(Jscex.compile("async", function () {
            $await(seedAnimate());
            $await(growAnimate());
            $await(flowAnimate());
            $await(moveAnimate());

            textAnimate().start();

            $await(jumpAnimate());
        }));

        runAsync().start();
    })();
   
    </script>

</body>
</html>
